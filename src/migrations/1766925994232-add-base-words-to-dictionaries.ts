import { MigrationInterface, QueryRunner } from 'typeorm';

// LEAD
export const LEAD_WORDS = [
  'купить',
  'куплю',
  'купим',
  'купите',
  'купил',
  'купила',
  'купили',
  'покупка',
  'покупки',
  'покупку',
  'покупкой',
  'покупке',
  'покупок',
  'приобрести',
  'приобрету',
  'приобретем',
  'приобретём',
  'приобретете',
  'приобретёте',
  'приобрел',
  'приобрёл',
  'приобрела',
  'заказ',
  'заказа',
  'заказу',
  'заказом',
  'заказе',
  'заказы',
  'заказов',
  'заказать',
  'закажу',
  'закажем',
  'закажете',
  'закажи',
  'закажите',
  'заказал',
  'заказала',
  'заказали',
  'оформить',
  'оформлю',
  'оформим',
  'оформите',
  'оформил',
  'оформила',
  'оформили',
  'заявка',
  'заявки',
  'заявку',
  'заявкой',
  'заявке',
  'заявок',
  'заявиться',
  'заявлюсь',
  'заявимся',
  'заявитесь',
  'заявился',
  'заявилась',
  'бронь',
  'брони',
  'бронью',
  'забронировать',
  'забронирую',
  'забронируем',
  'забронируете',
  'забронируй',
  'забронируйте',
  'забронировал',
  'забронировала',
  'предзаказ',
  'предзаказа',
  'предзаказу',
  'предзаказы',
  'предзаказов',
  'цена',
  'цены',
  'цену',
  'ценой',
  'цене',
  'ценник',
  'ценника',
  'ценнику',
  'ценники',
  'ценников',
  'стоимость',
  'стоимости',
  'стоимостью',
  'прайс',
  'прайслист',
  'прайс-лист',
  'прайс лист',
  'тариф',
  'тарифа',
  'тарифу',
  'тарифы',
  'тарифов',
  'пакет',
  'пакета',
  'пакету',
  'пакеты',
  'пакетов',
  'подписка',
  'подписки',
  'подписку',
  'подпиской',
  'подписке',
  'абонплата',
  'абонплаты',
  'абонплату',
  'абонплате',
  'оплата',
  'оплаты',
  'оплату',
  'оплатой',
  'оплате',
  'оплатить',
  'оплачу',
  'оплатим',
  'оплатите',
  'оплатил',
  'оплатила',
  'оплатили',
  'платеж',
  'платёж',
  'платежа',
  'платежу',
  'платежи',
  'платежей',
  'платежом',
  'платёжом',
  'платить',
  'плачу',
  'платим',
  'платите',
  'платил',
  'платила',
  'платили',
  'счет',
  'счёт',
  'счета',
  'счёта',
  'счету',
  'счёту',
  'счетом',
  'счётом',
  'реквизиты',
  'реквизитов',
  'реквизитам',
  'карта',
  'карты',
  'карту',
  'картой',
  'карте',
  'наличные',
  'наличными',
  'рассрочка',
  'рассрочки',
  'рассрочку',
  'рассрочкой',
  'скидка',
  'скидки',
  'скидку',
  'скидкой',
  'скидке',
  'скидок',
  'акция',
  'акции',
  'акцию',
  'акцией',
  'акциях',
  'промокод',
  'промокода',
  'промокоду',
  'промокоды',
  'промокодов',
  'купон',
  'купона',
  'купону',
  'купоны',
  'купонов',
  'доставка',
  'доставки',
  'доставку',
  'доставкой',
  'доставке',
  'самовывоз',
  'самовывоза',
  'самовывозом',
  'гарантия',
  'гарантии',
  'гарантию',
  'гарантией',
  'гарантиями',
  'возврат',
  'возврата',
  'возврату',
  'возвратом',
  'вернуть',
  'верну',
  'вернем',
  'вернём',
  'вернете',
  'вернёте',
  'вернул',
  'вернула',
  'вернули',
  'обмен',
  'обмена',
  'обмену',
  'обменом',
  'обменять',
  'подключить',
  'подключу',
  'подключим',
  'подключите',
  'подключил',
  'подключила',
  'подключили',
  'подключение',
  'подключения',
  'подключению',
  'подключении',
  'активировать',
  'активирую',
  'активируем',
  'активируете',
  'активируй',
  'активируйте',
  'активировал',
  'активировала',
  'активация',
  'активации',
  'активацию',
  'активацией',
  'доступ',
  'доступа',
  'доступу',
  'доступом',
  'доступе',
  'демо',
  'демоверсия',
  'демо-версия',
  'консультация',
  'консультации',
  'консультацию',
  'консультацией',
];

export const LEAD_PHRASES = [
  'как купить',
  'где купить',
  'хочу купить',
  'можно купить',
  'как заказать',
  'где заказать',
  'хочу заказать',
  'оформить заказ',
  'оставить заявку',
  'подать заявку',
  'как оформить',
  'сколько стоит',
  'какая цена',
  'прайс есть',
  'прайс скиньте',
  'какие тарифы',
  'какой тариф',
  'оформить подписку',
  'пробный период',
  'тестовый доступ',
  'как оплатить',
  'способы оплаты',
  'можно оплатить',
  'реквизиты для оплаты',
  'выставить счет',
  'оплата по счету',
  'есть доставка',
  'сколько доставка',
  'доставляете в',
  'есть самовывоз',
  'есть скидка',
  'промокод есть',
  'купон есть',
];

// QUESTION
export const QUESTION_WORDS = [
  'как',
  'почему',
  'зачем',
  'когда',
  'где',
  'куда',
  'откуда',
  'кто',
  'что',
  'какой',
  'какая',
  'какое',
  'какие',
  'какого',
  'какой',
  'какую',
  'каким',
  'какими',
  'каком',
  'сколько',
  'чей',
  'чья',
  'чье',
  'чьё',
  'чьи',
  'можно',
  'нельзя',
  'подскажите',
  'подскажи',
  'подскажешь',
  'подскажете',
  'скажите',
  'скажи',
  'скажешь',
  'скажете',
  'объясните',
  'объясни',
  'объяснишь',
  'объясните',
  'уточните',
  'уточни',
  'уточнишь',
  'уточните',
  'расскажите',
  'расскажи',
  'расскажешь',
  'расскажете',
  'помогите',
  'помоги',
  'поможете',
  'вопрос',
  'вопроса',
  'вопросы',
  'вопросов',
  'вопросик',
  'непонятно',
  'непонятен',
  'непонятна',
  'непонятны',
  'правильно',
  'значит',
  'означает',
  'означать',
  'разница',
  'различие',
  'отличия',
  'отличие',
  'инструкция',
  'инструкции',
  'инструкцию',
  'инструкцией',
];

export const QUESTION_PHRASES = [
  'есть вопрос',
  'вопрос такой',
  'подскажите',
  'подскажите пожалуйста',
  'подскажите как',
  'подскажите где',
  'можно ли',
  'можно узнать',
  'не понял',
  'не понимаю',
  'не ясно',
  'не совсем понятно',
  'объясните',
  'объясните пожалуйста',
  'уточните',
  'уточните пожалуйста',
  'расскажите',
  'расскажите подробнее',
  'помогите',
  'помогите разобраться',
  'правильно понимаю',
  'правильно ли понимаю',
  'что значит',
  'в чем разница',
  'чем отличается',
  'как это работает',
  'что делать',
  'куда нажать',
  'где найти',
  'где посмотреть',
];

// NEGATIVE
export const NEGATIVE_WORDS = [
  'проблема',
  'проблемы',
  'проблемой',
  'проблеме',
  'проблемах',
  'проблем',
  'проблемный',
  'проблемная',
  'ошибка',
  'ошибки',
  'ошибку',
  'ошибкой',
  'ошибке',
  'ошибок',
  'баг',
  'бага',
  'баги',
  'багов',
  'багом',
  'глюк',
  'глюки',
  'глюка',
  'глюков',
  'глючит',
  'глючило',
  'глючат',
  'глючный',
  'лагает',
  'лагало',
  'лаги',
  'лагов',
  'тормозит',
  'тормозят',
  'тормозило',
  'тормозной',
  'зависает',
  'зависло',
  'завис',
  'зависание',
  'зависает',
  'висит',
  'виснет',
  'висело',
  'подвисает',
  'подвисло',
  'вылетает',
  'вылетело',
  'вылет',
  'вылеты',
  'вылетел',
  'вылетела',
  'краш',
  'крашится',
  'крашнулось',
  'крашнул',
  'крашнуло',
  'сломалось',
  'сломан',
  'сломана',
  'сломано',
  'сломали',
  'сломал',
  'сломала',
  'нерабочий',
  'нерабочая',
  'нерабочее',
  'нерабочие',
  'ужас',
  'ужасно',
  'ужасный',
  'ужасная',
  'ужасные',
  'кошмар',
  'кошмарно',
  'кошмарный',
  'кошмарная',
  'отвратительно',
  'отвратительный',
  'отвратительная',
  'отвратительные',
  'мерзко',
  'мерзкий',
  'мерзкая',
  'мерзкие',
  'жутко',
  'жуткий',
  'жуткая',
  'жуткие',
  'плохо',
  'плохой',
  'плохая',
  'плохие',
  'плохого',
  'плохую',
  'дерьмо',
  'дерьмовый',
  'дерьмовая',
  'дерьмовые',
  'говно',
  'говняный',
  'говняная',
  'говняные',
  'говнище',
  'фигня',
  'фигни',
  'фигню',
  'фигней',
  'фигнёй',
  'бред',
  'бредовый',
  'бредовая',
  'бредово',
  'ерунда',
  'ерунды',
  'ерунду',
  'дичь',
  'дичью',
  'трэш',
  'треш',
  'трэшовый',
  'трешовый',
  'жесть',
  'жестко',
  'жёстко',
  'капец',
  'пипец',
  'бесит',
  'бесило',
  'бесишь',
  'бесите',
  'бесили',
  'раздражает',
  'раздражают',
  'раздражало',
  'раздражаешь',
  'раздражение',
  'надоело',
  'надоедает',
  'надоели',
  'надоел',
  'надоела',
  'достало',
  'достает',
  'достаёт',
  'достали',
  'достал',
  'достала',
  'задолбало',
  'задолбал',
  'задолбали',
  'задолбала',
  'разочарован',
  'разочарована',
  'разочарованы',
  'разочарование',
  'разочаровал',
  'разочаровала',
  'недоволен',
  'недовольна',
  'недовольны',
  'недовольство',
  'недовольный',
  'недовольная',
  'претензия',
  'претензии',
  'претензию',
  'претензий',
  'жалоба',
  'жалобы',
  'жалобу',
  'жалобой',
  'жалобе',
  'обман',
  'обманули',
  'обманываете',
  'обманывают',
  'обманщик',
  'обманщики',
  'развод',
  'разводят',
  'развели',
  'разводилово',
  'мошенник',
  'мошенники',
  'мошенничество',
  'кидалово',
  'кидок',
  'кинули',
  'кидают',
  'кинул',
  'кинула',
  'скам',
  'скамер',
  'скамеры',
  'украли',
  'украл',
  'украла',
  'украдено',
  'списали',
  'списал',
  'списало',
  'списалась',
  'списание',
  'игнор',
  'игнорите',
  'игнорят',
  'игнорирование',
  'молчит',
  'молчат',
  'молчание',
  'хамство',
  'хамите',
  'хамят',
  'хамский',
  'хамская',
  'грубо',
  'грубый',
  'грубая',
  'грубят',
  'грубость',
  'тупой',
  'тупая',
  'тупые',
  'тупо',
  'тупее',
  'идиот',
  'идиоты',
  'идиотский',
  'идиотская',
  'дебил',
  'дебилы',
  'дебильный',
  'дебильная',
  'мудак',
  'мудаки',
  'мудацкий',
  'сука',
  'суки',
  'суку',
  'сучий',
  'сучья',
  'блядь',
  'блять',
  'бля',
  'бляди',
  'блядский',
  'бл*дь',
  'бл*ть',
  'бл**ь',
  'хуй',
  'хуя',
  'хуе',
  'хуем',
  'хуевый',
  'хуёвый',
  'хуево',
  'хуёво',
  'х*й',
  'пиздец',
  'пизда',
  'пиздато',
  'п**дец',
  'ебать',
  'ебаный',
  'ебаная',
  'ебаные',
  'ебучий',
  'ёбаный',
  'ёбаная',
  'ёбаные',
  'е*ать',
  'ёб*ный',
  'нахуй',
  'нахуй',
  'хуйня',
  'хуета',
  'нахера',
  'нахрен',
  'нах*й',
  'бомбит',
  'бомбило',
  'бомбануло',
  'ненавижу',
  'ненавидеть',
  'ненавидим',
];

export const NEGATIVE_PHRASES = [
  'не работает',
  'не работает вообще',
  'не открывается',
  'не запускается',
  'не грузит',
  'не загружается',
  'не приходит',
  'не отправляется',
  'не могу зайти',
  'не могу войти',
  'не получается',
  'не дает',
  'не дает войти',
  'снова сломалось',
  'опять сломалось',
  'все сломалось',
  'все зависло',
  'постоянно висит',
  'постоянно лагает',
  'жутко тормозит',
  'вылетает постоянно',
  'что за фигня',
  'что за бред',
  'полный трэш',
  'просто жесть',
  'уже достало',
  'это бесит',
  'крайне недоволен',
  'очень недоволен',
  'полное разочарование',
  'ужасный сервис',
  'отвратительная поддержка',
  'поддержка молчит',
  'никто не отвечает',
  'игнорите сообщения',
  'обман какой-то',
  'развод какой-то',
  'скам какой-то',
  'кинули на деньги',
  'списали деньги',
  'деньги списали',
  'верните деньги',
  'хочу возврат',
  'прошу возврат',
  'хватит спама',
];

export class AddBaseWordsToDictionaries1766925994232 implements MigrationInterface {
  public async up(queryRunner: QueryRunner): Promise<void> {
    const insertIfNotExists = async (
      category: string,
      type: string,
      words: string[],
    ) => {
      await queryRunner.query(
        `
        INSERT INTO dictionary_words (category, type, words)
        SELECT $1::text, $2::text, $3::jsonb
        WHERE NOT EXISTS (
          SELECT 1
          FROM dictionary_words
          WHERE category::text = $1::text
            AND type::text = $2::text
        )
        `,
        [category, type, JSON.stringify(words)],
      );
    };

    await insertIfNotExists('lead', 'base', [...LEAD_WORDS, ...LEAD_PHRASES]);
    await insertIfNotExists('question', 'base', [
      ...QUESTION_WORDS,
      ...QUESTION_PHRASES,
    ]);
    await insertIfNotExists('negative', 'base', [
      ...NEGATIVE_WORDS,
      ...NEGATIVE_PHRASES,
    ]);
  }

  public async down(queryRunner: QueryRunner): Promise<void> {
    await queryRunner.query(
      `
      DELETE FROM dictionary_words
      WHERE category::text = ANY($1::text[])
        AND type::text = $2::text
      `,
      [['lead', 'question', 'negative'], 'base'],
    );
  }
}
